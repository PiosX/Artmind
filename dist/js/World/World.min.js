function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0===o)return("string"===e?String:Number)(t);o=o.call(t,e||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}import{Vector2}from"../../../../node_modules/three/build/three.module.js";import{createCamera}from"./components/camera.min.js";import{createCube}from"./components/cube.min.js";import{createScene}from"./components/scene.min.js";import{createControls}from"./systems/controls.min.js";import{createRenderer}from"./systems/renderer.min.js";import{Resizer}from"./systems/Resizer.min.js";import{Loop}from"./systems/Loop.min.js";import{CurtainShader}from"./components/effect.min.js";import{RGBAShader}from"./components/effect2.min.js";import{EffectComposer}from"https://cdn.skypack.dev/three@0.128.0/examples/jsm/postprocessing/EffectComposer.js";import{RenderPass}from"https://cdn.skypack.dev/three@0.128.0/examples/jsm/postprocessing/RenderPass.js";import{ShaderPass}from"https://cdn.skypack.dev/three@0.128.0/examples/jsm/postprocessing/ShaderPass.js";import{GUI}from"./../../../node_modules/dat.gui/build/dat.gui.module.js";import{gsap}from"./../../../node_modules/gsap/all.js";var renderer,scene,loop,mouse=new Vector2,target=new Vector2,windowHalf=new Vector2(window.innerWidth/2,window.innerHeight/2),camera=createCamera(),cube=createCube(),content=document.querySelectorAll(".content__subtitle"),numbers=document.querySelectorAll(".counter__text"),logoMain=document.querySelectorAll(".logo__main"),sublogo=document.querySelectorAll(".logo__main__sub"),mask=document.querySelector(".mask"),collection=document.querySelectorAll(".about__table__row"),close=document.querySelector(".about__close"),about=document.querySelector(".about"),aboutBtn=document.querySelector(".about__link"),World=function(){function e(t){_classCallCheck(this,e),renderer=createRenderer(),scene=createScene(),loop=new Loop(camera,scene,renderer),t.append(renderer.domElement),this.initPost(),this.render(),cube.groups.forEach(function(t){scene.add(t)}),this.clickCounter=0,this.time=0,this.mouse=new Vector2,this.target=new Vector2,this.windowHalf=new Vector2(window.innerWidth/2,window.innerHeight/2),document.addEventListener("mousemove",this.onMouseMove,!1),this.resizer=new Resizer(t,camera,renderer,this.composer),this.settings(),this.logoAnimations(),this.collectionEvent()}return _createClass(e,[{key:"settings",value:function(){var e=this;this.settings={progress:0,progress1:0,runAnimation:function(){e.runAnimation()}},this.gui=new GUI,this.gui.add(this.settings,"progress1",0,1,.01).onChange(function(t){e.effectPass.uniforms.uProgress.value=t}),mask.addEventListener("mousedown",this.settings.runAnimation),this.gui.hide()}},{key:"collectionEvent",value:function(){collection.forEach(function(t){t.addEventListener("mouseover",function(){t.lastElementChild.lastElementChild.style.display="block"}),t.addEventListener("mouseout",function(){t.lastElementChild.lastElementChild.style.display="none"})}),close.addEventListener("mousedown",function(){gsap.to(about,{transform:"translateX(100%)",duration:1.3})}),mask.addEventListener("mousedown",function(){gsap.to(about,{transform:"translateX(100%)",duration:1.3})}),aboutBtn.addEventListener("mousedown",function(){gsap.to(about,{transform:"translateX(0)",duration:1.3})})}},{key:"runAnimation",value:function(){mask.style.display="none",setTimeout(function(){mask.style.display="block"},2e3),8!=this.clickCounter?this.clickCounter++:this.clickCounter=0;var t=gsap.timeline();if(0==this.clickCounter){for(var e=0;e<content.length;e++)content[e].style.opacity="0";this.conAnimation(content[0],content[8]),gsap.to(numbers[7],{opacity:0,duration:2}),gsap.to(numbers[8],{opacity:0,duration:2}),this.numberAnim(numbers[0])}1==this.clickCounter&&(this.conAnimation(content[1],content[0]),this.numberAnim(numbers[1])),2==this.clickCounter&&(this.conAnimation(content[2],content[1]),this.numberAnim(numbers[2])),3==this.clickCounter&&(this.conAnimation(content[3],content[2]),this.hideNum(numbers[0]),this.hideNum(numbers[1]),this.numberAnim(numbers[3]),gsap.to(numbers[2],{x:"-5rem",duration:2})),4==this.clickCounter&&(this.conAnimation(content[4],content[3]),gsap.fromTo(numbers[2],{x:"-5rem",duration:1},{x:"-8rem",opacity:0}),gsap.to(numbers[3],{x:"-4rem",duration:2})),5==this.clickCounter&&(this.conAnimation(content[5],content[4]),this.numberAnim(numbers[5])),6==this.clickCounter&&(this.conAnimation(content[6],content[5]),this.numberAnim(numbers[6])),7==this.clickCounter&&(this.conAnimation(content[7],content[6]),this.numberAnim(numbers[7])),8==this.clickCounter&&(this.conAnimation(content[8],content[7]),this.numberAnim(numbers[8]),this.hideNum(numbers[3]),this.hideNum(numbers[6]),this.hideNum(numbers[5]),gsap.to(numbers[7],{x:"-8rem",duration:2})),2e4==camera.position.x?t.to(camera.position,{x:0,duration:1.5,ease:"power4.inOut"}):t.to(camera.position,{x:camera.position.x+2500,duration:1.5,ease:"power4.inOut"}),t.to(this.effectPass.uniforms.uProgress,{value:1,duration:1,ease:"power3,inOut"},0),t.to(this.effectPass.uniforms.uProgress,{value:0,duration:1,ease:"power3,inOut"},1),t.to(this.effectPass1.uniforms.uProgress,{value:1,duration:1,ease:"power3,inOut"},0),t.to(this.effectPass1.uniforms.uProgress,{value:0,duration:1,ease:"power3,inOut"},1)}},{key:"logoAnimations",value:function(){logoMain.forEach(function(t){gsap.to(t,{transform:"translate(-50%,-50%) rotate(-45deg)",duration:.5,delay:2}),gsap.to(t,{transform:"translate(-50%,-50%) rotate(0)",duration:.5,delay:4}),gsap.to(t,{transform:"translate(-50%,-50%) rotate(45deg)",duration:.5,delay:6}),gsap.to(t,{transform:"translate(-50%,-50%) rotate(0)",duration:.5,delay:8})}),gsap.to(sublogo[0],{transform:"translate(-50%,-50%) rotate(-45deg)",duration:.5,delay:2}),gsap.to(sublogo[1],{transform:"translate(-50%,-50%) rotate(0)",duration:.5,delay:4}),gsap.to(sublogo[2],{transform:"translate(-50%,-50%) rotate(45deg)",duration:.5,delay:6}),sublogo.forEach(function(t){gsap.to(t,{transform:"translate(-50%,-50%) rotate(0)",duration:.5,delay:8})}),setInterval(function(){logoMain.forEach(function(t){gsap.to(t,{transform:"translate(-50%,-50%) rotate(-45deg)",duration:.5,delay:2}),gsap.to(t,{transform:"translate(-50%,-50%) rotate(0)",duration:.5,delay:4}),gsap.to(t,{transform:"translate(-50%,-50%) rotate(45deg)",duration:.5,delay:6}),gsap.to(t,{transform:"translate(-50%,-50%) rotate(0)",duration:.5,delay:8.5})}),gsap.to(sublogo[0],{transform:"translate(-50%,-50%) rotate(-45deg)",duration:.5,delay:2}),gsap.to(sublogo[1],{transform:"translate(-50%,-50%) rotate(0)",duration:.5,delay:4}),gsap.to(sublogo[2],{transform:"translate(-50%,-50%) rotate(45deg)",duration:.5,delay:6}),sublogo.forEach(function(t){gsap.to(t,{transform:"translate(-50%,-50%) rotate(0)",duration:.5,delay:8.5})})},9e3)}},{key:"conAnimation",value:function(t,e){t.style.display="block",e.style.display="none",e.style.opacity="0",gsap.timeline().to(t,{opacity:1,duration:2})}},{key:"numberAnim",value:function(t){gsap.fromTo(t,{opacity:0,x:"20rem"},{opacity:1,x:"0",duration:2})}},{key:"hideNum",value:function(t){gsap.fromTo(t,{opacity:1,x:"0"},{opacity:0,x:"-8rem",duration:2})}},{key:"initPost",value:function(){this.composer=new EffectComposer(renderer);var t=new RenderPass(scene,camera);this.composer.addPass(t),this.effectPass=new ShaderPass(CurtainShader),this.composer.addPass(this.effectPass),this.effectPass1=new ShaderPass(RGBAShader),this.composer.addPass(this.effectPass1)}},{key:"onMouseMove",value:function(t){mouse.x=t.clientX-windowHalf.x,mouse.y=t.clientY-windowHalf.x}},{key:"render",value:function(){var t=this;requestAnimationFrame(this.render.bind(this)),this.time+=.05,this.oscilator=.5*Math.sin(.1*this.time)+.5,renderer.setAnimationLoop(function(){cube.groups.forEach(function(t){target.x=13e-5*(1-mouse.x),target.y=13e-5*(-500-mouse.y),t.rotation.x+=.05*(target.y-t.rotation.x),t.rotation.y+=.05*(target.x-t.rotation.y)}),t.composer.render()})}},{key:"start",value:function(){loop.start()}},{key:"stop",value:function(){loop.stop()}}]),e}();export{World};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIldvcmxkL1dvcmxkLmpzIl0sIm5hbWVzIjpbIlZlY3RvcjIiLCJjcmVhdGVDYW1lcmEiLCJjcmVhdGVDdWJlIiwiY3JlYXRlU2NlbmUiLCJjcmVhdGVDb250cm9scyIsImNyZWF0ZVJlbmRlcmVyIiwiUmVzaXplciIsIkxvb3AiLCJDdXJ0YWluU2hhZGVyIiwiRWZmZWN0Q29tcG9zZXIiLCJyZW5kZXJlciIsInNjZW5lIiwibG9vcCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsIm1vdXNlIiwidGFyZ2V0IiwiY2FtZXJhIiwiY3ViZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjb250ZW50IiwiZG9jdW1lbnQiLCJudW1iZXJzIiwibG9nb01haW4iLCJtYXNrIiwicXVlcnlTZWxlY3RvciIsImNvbGxlY3Rpb24iLCJjbG9zZSIsImFib3V0IiwiV29ybGQiLCJjb250YWluZXIiLCJhcHBlbmQiLCJ0aGlzIiwicmVuZGVyIiwiaW5pdFBvc3QiLCJncm91cHMiLCJpdGVtIiwiZm9yRWFjaCIsImNsaWNrQ291bnRlciIsInRpbWUiLCJ3aW5kb3dIYWxmIiwiYWRkRXZlbnRMaXN0ZW5lciIsImxvZ29BbmltYXRpb25zIiwib25Nb3VzZU1vdmUiLCJyZXNpemVyIiwiY29sbGVjdGlvbkV2ZW50IiwiY29tcG9zZXIiLCJzZXR0aW5ncyIsIl9jcmVhdGVDbGFzcyIsImtleSIsInZhbHVlIiwicHJvZ3Jlc3MiLCJydW5BbmltYXRpb24iLCJwcm9ncmVzczEiLCJfdGhpcyIsImd1aSIsImVmZmVjdFBhc3MiLCJhZGQiLCJvbkNoYW5nZSIsInZhbCIsInVQcm9ncmVzcyIsImhpZGUiLCJsYXN0RWxlbWVudENoaWxkIiwic3R5bGUiLCJkaXNwbGF5IiwiZ3NhcCIsInRvIiwiZHVyYXRpb24iLCJ0cmFuc2Zvcm0iLCJhYm91dEJ0biIsInNldFRpbWVvdXQiLCJ0aW1lbGluZSIsInRsIiwiaSIsImNvbkFuaW1hdGlvbiIsIm9wYWNpdHkiLCJudW1iZXJBbmltIiwiaGlkZU51bSIsImZyb21UbyIsIngiLCJwb3NpdGlvbiIsImVhc2UiLCJ1bmlmb3JtcyIsImxvZ28iLCJkZWxheSIsInN1YmxvZ28iLCJzZXRJbnRlcnZhbCIsIml0ZW1PdXQiLCJSZW5kZXJQYXNzIiwiYWRkUGFzcyIsInJlbmRlclBhc3MiLCJTaGFkZXJQYXNzIiwiZWZmZWN0UGFzczEiLCJSR0JBU2hhZGVyIiwieSIsIl90aGlzMiIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImJpbmQiLCJldmVudCIsImNsaWVudFkiLCJzZXRBbmltYXRpb25Mb29wIiwicm90YXRpb24iLCJzdGFydCIsInN0b3AiXSwibWFwcGluZ3MiOiJxakNBQVNBLE9BQXFFLEtBQXRELDhEQUNmQyxZQUFnRCxLQUE1QixvQ0FDcEJDLFVBQTRDLEtBQTFCLGtDQUNsQkMsV0FBOEMsS0FBM0IsbUNBRW5CQyxjQUFpRCxLQUEzQixtQ0FMdEJKLGNBQWUsS0FBQSxtQ0FDZkMsT0FBb0IsS0FBUixrQ0FDWkMsSUFBa0IsS0FBUiwrQkFDVkMsYUFBOEMsS0FBM0Isb0NBRW5CQyxVQUFzQixLQUFSLHFDQUNkQyxjQUFpRCxLQUEzQiw2RkFDdEJDLFVBQXlDLEtBQTFCLHlGQUNmQyxVQUFtQyxLQUF2Qix5RkFDWkMsR0FBaUQsS0FBakRBLGlFQUVBQyxJQUFzQixLQUF0QkEsc0NBRVQsSUFBQUMsU0FDQUMsTUFDQUMsS0FHSUYsTUFBUSxJQUFBVixRQUNSVyxPQUFLLElBQUFYLFFBQ0xZLFdBQUksSUFBQVosUUFBQWEsT0FBQUMsV0FBQSxFQUFBRCxPQUFBRSxZQUFBLENBQUEsRUFFSkMsT0FBUWYsYUFBYSxFQUNyQmdCLEtBQU1mLFdBQU9GLEVBRWJrQixRQUFTakIsU0FBQUEsaUJBQWMsb0JBQUEsRUFDdkJrQixRQUFPakIsU0FBWWtCLGlCQUFBLGdCQUFBLEVBRW5CQyxTQUFVQyxTQUFTRixpQkFBaUIsYUFBQSxFQUNwQ0csUUFBVUQsU0FBU0YsaUJBQWlCLGtCQUFpQixFQUNyREksS0FBQUEsU0FBV0YsY0FBU0YsT0FBaUIs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QWdFLEtBQUFqRSxJQUFBLENBQUEsRUFVQUEsS0FQQWpCLE1BQU8sSUFRUGlCLEtBUEFqQixVQUFzQyxHQUE1Qm1GLEtBQU1DLElBQVUzRCxHQUFWMkQsS0FBVTNELElBQVd1QyxFQUFDLEdBQ3RDdEUsU0FBQTJGLGlCQUFBLFdBU0NsRixLQVREaUIsT0FBQUUsUUFBQSxTQUFBRCxHQUFBcEIsT0FFRCtELEVBQVMsT0FBVCxFQUFBaEUsTUFBQWdFLEdBU0cvRCxPQVRNOEUsRUFBQSxPQUFBLENBQUEsSUFBQS9FLE1BQUErRSxHQVVOMUQsRUFURjRELFNBQUFBLEdBQUFBLEtBQXNCaEYsT0FBS2lCLEVBQU9nRSxFQUFLSSxTQUFNdEIsR0FVM0MzQyxFQVJGaUUsU0FBU1AsR0FBUSxLQUFBOUUsT0FBQStELEVBQUEzQyxFQUFBaUUsU0FBQVAsRUFhaEIsQ0FBQyxFQUVEQyxFQUFLakQsU0FQQ3VELE9BQVEsQ0FRZixDQUFDLENBRUYsQ0FBQyxFQUFBLENBQUFwRCxJQUFBLFFBQUFDLE1BRUQsV0FDQ3ZDLEtBQUsyRixNQUFLLENBQ1gsQ0FBQyxFQUFBLENBQUFyRCxJQUFBLE9BQUFDLE1BRUQsV0FDQ3ZDLEtBUEQ0RixLQUFBLENBUUEsQ0FSQyxFQUFBLEVBQUExRSxDQUFBLEVBQUEsU0FHQWxCLEtBQUsyRiIsImZpbGUiOiJXb3JsZC9Xb3JsZC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlZS9idWlsZC90aHJlZS5tb2R1bGUuanNcIjtcclxuaW1wb3J0IHsgY3JlYXRlQ2FtZXJhIH0gZnJvbSBcIi4vY29tcG9uZW50cy9jYW1lcmEubWluLmpzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUN1YmUgfSBmcm9tIFwiLi9jb21wb25lbnRzL2N1YmUubWluLmpzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVNjZW5lIH0gZnJvbSBcIi4vY29tcG9uZW50cy9zY2VuZS5taW4uanNcIjtcclxuXHJcbmltcG9ydCB7IGNyZWF0ZUNvbnRyb2xzIH0gZnJvbSBcIi4vc3lzdGVtcy9jb250cm9scy5taW4uanNcIjtcclxuaW1wb3J0IHsgY3JlYXRlUmVuZGVyZXIgfSBmcm9tIFwiLi9zeXN0ZW1zL3JlbmRlcmVyLm1pbi5qc1wiO1xyXG5pbXBvcnQgeyBSZXNpemVyIH0gZnJvbSBcIi4vc3lzdGVtcy9SZXNpemVyLm1pbi5qc1wiO1xyXG5pbXBvcnQgeyBMb29wIH0gZnJvbSBcIi4vc3lzdGVtcy9Mb29wLm1pbi5qc1wiO1xyXG5pbXBvcnQgeyBDdXJ0YWluU2hhZGVyIH0gZnJvbSBcIi4vY29tcG9uZW50cy9lZmZlY3QubWluLmpzXCI7XHJcbmltcG9ydCB7IFJHQkFTaGFkZXIgfSBmcm9tIFwiLi9jb21wb25lbnRzL2VmZmVjdDIubWluLmpzXCI7XHJcbmltcG9ydCB7IEVmZmVjdENvbXBvc2VyIH0gZnJvbSBcImh0dHBzOi8vY2RuLnNreXBhY2suZGV2L3RocmVlQDAuMTI4LjAvZXhhbXBsZXMvanNtL3Bvc3Rwcm9jZXNzaW5nL0VmZmVjdENvbXBvc2VyLmpzXCI7XHJcbmltcG9ydCB7IFJlbmRlclBhc3MgfSBmcm9tIFwiaHR0cHM6Ly9jZG4uc2t5cGFjay5kZXYvdGhyZWVAMC4xMjguMC9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvUmVuZGVyUGFzcy5qc1wiO1xyXG5pbXBvcnQgeyBTaGFkZXJQYXNzIH0gZnJvbSBcImh0dHBzOi8vY2RuLnNreXBhY2suZGV2L3RocmVlQDAuMTI4LjAvZXhhbXBsZXMvanNtL3Bvc3Rwcm9jZXNzaW5nL1NoYWRlclBhc3MuanNcIjtcclxuaW1wb3J0IHsgR1VJIH0gZnJvbSBcIi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdC5ndWkvYnVpbGQvZGF0Lmd1aS5tb2R1bGUuanNcIjtcclxuLy8gaW1wb3J0IHsgZ3NhcCB9IGZyb20gXCIuLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9nc2FwL2luZGV4LmpzXCI7XHJcbmltcG9ydCB7IGdzYXAgfSBmcm9tIFwiLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZ3NhcC9hbGwuanNcIjtcclxuXHJcbmxldCByZW5kZXJlcjtcclxubGV0IHNjZW5lO1xyXG5sZXQgbG9vcDtcclxuXHJcbmxldCBtb3VzZSA9IG5ldyBWZWN0b3IyKCk7XHJcbmxldCB0YXJnZXQgPSBuZXcgVmVjdG9yMigpO1xyXG5sZXQgd2luZG93SGFsZiA9IG5ldyBWZWN0b3IyKHdpbmRvdy5pbm5lcldpZHRoIC8gMiwgd2luZG93LmlubmVySGVpZ2h0IC8gMik7XHJcbmxldCBjYW1lcmEgPSBjcmVhdGVDYW1lcmEoKTtcclxubGV0IGN1YmUgPSBjcmVhdGVDdWJlKCk7XHJcblxyXG5sZXQgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY29udGVudF9fc3VidGl0bGVcIik7XHJcbmxldCBudW1iZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jb3VudGVyX190ZXh0XCIpO1xyXG5sZXQgbG9nb01haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmxvZ29fX21haW5cIik7XHJcbmxldCBzdWJsb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5sb2dvX19tYWluX19zdWJcIik7XHJcbmxldCBtYXNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYXNrXCIpO1xyXG5cclxuY29uc3QgY29sbGVjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYWJvdXRfX3RhYmxlX19yb3dcIik7XHJcbmNvbnN0IGNsb3NlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hYm91dF9fY2xvc2VcIik7XHJcbmNvbnN0IGFib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hYm91dFwiKTtcclxuY29uc3QgYWJvdXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFib3V0X19saW5rXCIpO1xyXG5cclxuY2xhc3MgV29ybGQge1xyXG5cdGNvbnN0cnVjdG9yKGNvbnRhaW5lcikge1xyXG5cdFx0cmVuZGVyZXIgPSBjcmVhdGVSZW5kZXJlcigpO1xyXG5cdFx0c2NlbmUgPSBjcmVhdGVTY2VuZSgpO1xyXG5cdFx0bG9vcCA9IG5ldyBMb29wKGNhbWVyYSwgc2NlbmUsIHJlbmRlcmVyKTtcclxuXHRcdGNvbnRhaW5lci5hcHBlbmQocmVuZGVyZXIuZG9tRWxlbWVudCk7XHJcblx0XHR0aGlzLmluaXRQb3N0KCk7XHJcblx0XHR0aGlzLnJlbmRlcigpO1xyXG5cdFx0Y3ViZS5ncm91cHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0XHRzY2VuZS5hZGQoaXRlbSk7XHJcblx0XHR9KTtcclxuXHRcdHRoaXMuY2xpY2tDb3VudGVyID0gMDtcclxuXHRcdHRoaXMudGltZSA9IDA7XHJcblxyXG5cdFx0Ly8gY29uc3QgY29udHJvbHMgPSBjcmVhdGVDb250cm9scyhjYW1lcmEsIHJlbmRlcmVyLmRvbUVsZW1lbnQpO1xyXG5cdFx0Ly8gbG9vcC51cGRhdGFibGVzLnB1c2goY29udHJvbHMpO1xyXG5cclxuXHRcdHRoaXMubW91c2UgPSBuZXcgVmVjdG9yMigpO1xyXG5cdFx0dGhpcy50YXJnZXQgPSBuZXcgVmVjdG9yMigpO1xyXG5cdFx0dGhpcy53aW5kb3dIYWxmID0gbmV3IFZlY3RvcjIoXHJcblx0XHRcdHdpbmRvdy5pbm5lcldpZHRoIC8gMixcclxuXHRcdFx0d2luZG93LmlubmVySGVpZ2h0IC8gMlxyXG5cdFx0KTtcclxuXHJcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMub25Nb3VzZU1vdmUsIGZhbHNlKTtcclxuXHRcdHRoaXMucmVzaXplciA9IG5ldyBSZXNpemVyKGNvbnRhaW5lciwgY2FtZXJhLCByZW5kZXJlciwgdGhpcy5jb21wb3Nlcik7XHJcblxyXG5cdFx0dGhpcy5zZXR0aW5ncygpO1xyXG5cdFx0dGhpcy5sb2dvQW5pbWF0aW9ucygpO1xyXG5cdFx0dGhpcy5jb2xsZWN0aW9uRXZlbnQoKTtcclxuXHR9XHJcblxyXG5cdHNldHRpbmdzKCkge1xyXG5cdFx0bGV0IHRoYXQgPSB0aGlzO1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IHtcclxuXHRcdFx0cHJvZ3Jlc3M6IDAsXHJcblx0XHRcdHByb2dyZXNzMTogMCxcclxuXHRcdFx0cnVuQW5pbWF0aW9uOiAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5ydW5BbmltYXRpb24oKTtcclxuXHRcdFx0fSxcclxuXHRcdH07XHJcblx0XHR0aGlzLmd1aSA9IG5ldyBHVUkoKTtcclxuXHRcdHRoaXMuZ3VpLmFkZCh0aGlzLnNldHRpbmdzLCBcInByb2dyZXNzMVwiLCAwLCAxLCAwLjAxKS5vbkNoYW5nZSgodmFsKSA9PiB7XHJcblx0XHRcdHRoaXMuZWZmZWN0UGFzcy51bmlmb3Jtcy51UHJvZ3Jlc3MudmFsdWUgPSB2YWw7XHJcblx0XHR9KTtcclxuXHRcdG1hc2suYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLnNldHRpbmdzLnJ1bkFuaW1hdGlvbik7XHJcblx0XHR0aGlzLmd1aS5oaWRlKCk7XHJcblx0fVxyXG5cclxuXHRjb2xsZWN0aW9uRXZlbnQoKSB7XHJcblx0XHRjb2xsZWN0aW9uLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsICgpID0+IHtcclxuXHRcdFx0XHRpdGVtLmxhc3RFbGVtZW50Q2hpbGQubGFzdEVsZW1lbnRDaGlsZC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgKCkgPT4ge1xyXG5cdFx0XHRcdGl0ZW0ubGFzdEVsZW1lbnRDaGlsZC5sYXN0RWxlbWVudENoaWxkLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRjbG9zZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsICgpID0+IHtcclxuXHRcdFx0Z3NhcC50byhhYm91dCwge1xyXG5cdFx0XHRcdHRyYW5zZm9ybTogXCJ0cmFuc2xhdGVYKDEwMCUpXCIsXHJcblx0XHRcdFx0ZHVyYXRpb246IDEuMyxcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHRcdG1hc2suYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoKSA9PiB7XHJcblx0XHRcdGdzYXAudG8oYWJvdXQsIHtcclxuXHRcdFx0XHR0cmFuc2Zvcm06IFwidHJhbnNsYXRlWCgxMDAlKVwiLFxyXG5cdFx0XHRcdGR1cmF0aW9uOiAxLjMsXHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0XHRhYm91dEJ0bi5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsICgpID0+IHtcclxuXHRcdFx0Z3NhcC50byhhYm91dCwge1xyXG5cdFx0XHRcdHRyYW5zZm9ybTogXCJ0cmFuc2xhdGVYKDApXCIsXHJcblx0XHRcdFx0ZHVyYXRpb246IDEuMyxcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHJ1bkFuaW1hdGlvbigpIHtcclxuXHRcdG1hc2suc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdG1hc2suc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuXHRcdH0sIDIwMDApO1xyXG5cclxuXHRcdGlmICh0aGlzLmNsaWNrQ291bnRlciAhPSA4KSB7XHJcblx0XHRcdHRoaXMuY2xpY2tDb3VudGVyKys7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmNsaWNrQ291bnRlciA9IDA7XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IHRsID0gZ3NhcC50aW1lbGluZSgpO1xyXG5cdFx0aWYgKHRoaXMuY2xpY2tDb3VudGVyID09IDApIHtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjb250ZW50Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0Y29udGVudFtpXS5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5jb25BbmltYXRpb24oY29udGVudFswXSwgY29udGVudFs4XSk7XHJcblx0XHRcdGdzYXAudG8obnVtYmVyc1s3XSwgeyBvcGFjaXR5OiAwLCBkdXJhdGlvbjogMiB9KTtcclxuXHRcdFx0Z3NhcC50byhudW1iZXJzWzhdLCB7IG9wYWNpdHk6IDAsIGR1cmF0aW9uOiAyIH0pO1xyXG5cdFx0XHR0aGlzLm51bWJlckFuaW0obnVtYmVyc1swXSk7XHJcblx0XHR9XHJcblx0XHRpZiAodGhpcy5jbGlja0NvdW50ZXIgPT0gMSkge1xyXG5cdFx0XHR0aGlzLmNvbkFuaW1hdGlvbihjb250ZW50WzFdLCBjb250ZW50WzBdKTtcclxuXHRcdFx0dGhpcy5udW1iZXJBbmltKG51bWJlcnNbMV0pO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMuY2xpY2tDb3VudGVyID09IDIpIHtcclxuXHRcdFx0dGhpcy5jb25BbmltYXRpb24oY29udGVudFsyXSwgY29udGVudFsxXSk7XHJcblx0XHRcdHRoaXMubnVtYmVyQW5pbShudW1iZXJzWzJdKTtcclxuXHRcdH1cclxuXHRcdGlmICh0aGlzLmNsaWNrQ291bnRlciA9PSAzKSB7XHJcblx0XHRcdHRoaXMuY29uQW5pbWF0aW9uKGNvbnRlbnRbM10sIGNvbnRlbnRbMl0pO1xyXG5cdFx0XHR0aGlzLmhpZGVOdW0obnVtYmVyc1swXSk7XHJcblx0XHRcdHRoaXMuaGlkZU51bShudW1iZXJzWzFdKTtcclxuXHRcdFx0dGhpcy5udW1iZXJBbmltKG51bWJlcnNbM10pO1xyXG5cdFx0XHRnc2FwLnRvKG51bWJlcnNbMl0sIHsgeDogXCItNXJlbVwiLCBkdXJhdGlvbjogMiB9KTtcclxuXHRcdH1cclxuXHRcdGlmICh0aGlzLmNsaWNrQ291bnRlciA9PSA0KSB7XHJcblx0XHRcdHRoaXMuY29uQW5pbWF0aW9uKGNvbnRlbnRbNF0sIGNvbnRlbnRbM10pO1xyXG5cdFx0XHRnc2FwLmZyb21UbyhcclxuXHRcdFx0XHRudW1iZXJzWzJdLFxyXG5cdFx0XHRcdHsgeDogXCItNXJlbVwiLCBkdXJhdGlvbjogMSB9LFxyXG5cdFx0XHRcdHsgeDogXCItOHJlbVwiLCBvcGFjaXR5OiAwIH1cclxuXHRcdFx0KTtcclxuXHRcdFx0Z3NhcC50byhudW1iZXJzWzNdLCB7IHg6IFwiLTRyZW1cIiwgZHVyYXRpb246IDIgfSk7XHJcblx0XHR9XHJcblx0XHRpZiAodGhpcy5jbGlja0NvdW50ZXIgPT0gNSkge1xyXG5cdFx0XHR0aGlzLmNvbkFuaW1hdGlvbihjb250ZW50WzVdLCBjb250ZW50WzRdKTtcclxuXHRcdFx0dGhpcy5udW1iZXJBbmltKG51bWJlcnNbNV0pO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMuY2xpY2tDb3VudGVyID09IDYpIHtcclxuXHRcdFx0dGhpcy5jb25BbmltYXRpb24oY29udGVudFs2XSwgY29udGVudFs1XSk7XHJcblx0XHRcdHRoaXMubnVtYmVyQW5pbShudW1iZXJzWzZdKTtcclxuXHRcdH1cclxuXHRcdGlmICh0aGlzLmNsaWNrQ291bnRlciA9PSA3KSB7XHJcblx0XHRcdHRoaXMuY29uQW5pbWF0aW9uKGNvbnRlbnRbN10sIGNvbnRlbnRbNl0pO1xyXG5cdFx0XHR0aGlzLm51bWJlckFuaW0obnVtYmVyc1s3XSk7XHJcblx0XHR9XHJcblx0XHRpZiAodGhpcy5jbGlja0NvdW50ZXIgPT0gOCkge1xyXG5cdFx0XHR0aGlzLmNvbkFuaW1hdGlvbihjb250ZW50WzhdLCBjb250ZW50WzddKTtcclxuXHRcdFx0dGhpcy5udW1iZXJBbmltKG51bWJlcnNbOF0pO1xyXG5cdFx0XHR0aGlzLmhpZGVOdW0obnVtYmVyc1szXSk7XHJcblx0XHRcdHRoaXMuaGlkZU51bShudW1iZXJzWzZdKTtcclxuXHRcdFx0dGhpcy5oaWRlTnVtKG51bWJlcnNbNV0pO1xyXG5cdFx0XHRnc2FwLnRvKG51bWJlcnNbN10sIHsgeDogXCItOHJlbVwiLCBkdXJhdGlvbjogMiB9KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoY2FtZXJhLnBvc2l0aW9uLnggPT0gMjAwMDApIHtcclxuXHRcdFx0dGwudG8oY2FtZXJhLnBvc2l0aW9uLCB7XHJcblx0XHRcdFx0eDogMCxcclxuXHRcdFx0XHRkdXJhdGlvbjogMS41LFxyXG5cdFx0XHRcdGVhc2U6IFwicG93ZXI0LmluT3V0XCIsXHJcblx0XHRcdH0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGwudG8oY2FtZXJhLnBvc2l0aW9uLCB7XHJcblx0XHRcdFx0eDogY2FtZXJhLnBvc2l0aW9uLnggKyAyNTAwLFxyXG5cdFx0XHRcdGR1cmF0aW9uOiAxLjUsXHJcblx0XHRcdFx0ZWFzZTogXCJwb3dlcjQuaW5PdXRcIixcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gdGwudG8oXHJcblx0XHQvLyBcdGNhbWVyYS5wb3NpdGlvbixcclxuXHRcdC8vIFx0e1xyXG5cdFx0Ly8gXHRcdHo6IDcwMCxcclxuXHRcdC8vIFx0XHRkdXJhdGlvbjogMSxcclxuXHRcdC8vIFx0XHRlYXNlOiBcInBvd2VyNC5pbk91dFwiLFxyXG5cdFx0Ly8gXHR9LFxyXG5cdFx0Ly8gXHQwXHJcblx0XHQvLyApO1xyXG5cdFx0Ly8gdGwudG8oXHJcblx0XHQvLyBcdGNhbWVyYS5wb3NpdGlvbixcclxuXHRcdC8vIFx0e1xyXG5cdFx0Ly8gXHRcdHo6IDkwMCxcclxuXHRcdC8vIFx0XHRkdXJhdGlvbjogMSxcclxuXHRcdC8vIFx0XHRlYXNlOiBcInBvd2VyNC5pbk91dFwiLFxyXG5cdFx0Ly8gXHR9LFxyXG5cdFx0Ly8gXHQxXHJcblx0XHQvLyApO1xyXG5cclxuXHRcdHRsLnRvKFxyXG5cdFx0XHR0aGlzLmVmZmVjdFBhc3MudW5pZm9ybXMudVByb2dyZXNzLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dmFsdWU6IDEsXHJcblx0XHRcdFx0ZHVyYXRpb246IDEsXHJcblx0XHRcdFx0ZWFzZTogXCJwb3dlcjMsaW5PdXRcIixcclxuXHRcdFx0fSxcclxuXHRcdFx0MFxyXG5cdFx0KTtcclxuXHRcdHRsLnRvKFxyXG5cdFx0XHR0aGlzLmVmZmVjdFBhc3MudW5pZm9ybXMudVByb2dyZXNzLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dmFsdWU6IDAsXHJcblx0XHRcdFx0ZHVyYXRpb246IDEsXHJcblx0XHRcdFx0ZWFzZTogXCJwb3dlcjMsaW5PdXRcIixcclxuXHRcdFx0fSxcclxuXHRcdFx0MVxyXG5cdFx0KTtcclxuXHJcblx0XHR0bC50byhcclxuXHRcdFx0dGhpcy5lZmZlY3RQYXNzMS51bmlmb3Jtcy51UHJvZ3Jlc3MsXHJcblx0XHRcdHtcclxuXHRcdFx0XHR2YWx1ZTogMSxcclxuXHRcdFx0XHRkdXJhdGlvbjogMSxcclxuXHRcdFx0XHRlYXNlOiBcInBvd2VyMyxpbk91dFwiLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHQwXHJcblx0XHQpO1xyXG5cdFx0dGwudG8oXHJcblx0XHRcdHRoaXMuZWZmZWN0UGFzczEudW5pZm9ybXMudVByb2dyZXNzLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dmFsdWU6IDAsXHJcblx0XHRcdFx0ZHVyYXRpb246IDEsXHJcblx0XHRcdFx0ZWFzZTogXCJwb3dlcjMsaW5PdXRcIixcclxuXHRcdFx0fSxcclxuXHRcdFx0MVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdGxvZ29BbmltYXRpb25zKCkge1xyXG5cdFx0bG9nb01haW4uZm9yRWFjaCgobG9nbykgPT4ge1xyXG5cdFx0XHRnc2FwLnRvKGxvZ28sIHtcclxuXHRcdFx0XHR0cmFuc2Zvcm06IFwidHJhbnNsYXRlKC01MCUsLTUwJSkgcm90YXRlKC00NWRlZylcIixcclxuXHRcdFx0XHRkdXJhdGlvbjogMC41LFxyXG5cdFx0XHRcdGRlbGF5OiAyLFxyXG5cdFx0XHR9KTtcclxuXHRcdFx0Z3NhcC50byhsb2dvLCB7XHJcblx0XHRcdFx0dHJhbnNmb3JtOiBcInRyYW5zbGF0ZSgtNTAlLC01MCUpIHJvdGF0ZSgwKVwiLFxyXG5cdFx0XHRcdGR1cmF0aW9uOiAwLjUsXHJcblx0XHRcdFx0ZGVsYXk6IDQsXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRnc2FwLnRvKGxvZ28sIHtcclxuXHRcdFx0XHR0cmFuc2Zvcm06IFwidHJhbnNsYXRlKC01MCUsLTUwJSkgcm90YXRlKDQ1ZGVnKVwiLFxyXG5cdFx0XHRcdGR1cmF0aW9uOiAwLjUsXHJcblx0XHRcdFx0ZGVsYXk6IDYsXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRnc2FwLnRvKGxvZ28sIHtcclxuXHRcdFx0XHR0cmFuc2Zvcm06IFwidHJhbnNsYXRlKC01MCUsLTUwJSkgcm90YXRlKDApXCIsXHJcblx0XHRcdFx0ZHVyYXRpb246IDAuNSxcclxuXHRcdFx0XHRkZWxheTogOCxcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRnc2FwLnRvKHN1YmxvZ29bMF0sIHtcclxuXHRcdFx0dHJhbnNmb3JtOiBcInRyYW5zbGF0ZSgtNTAlLC01MCUpIHJvdGF0ZSgtNDVkZWcpXCIsXHJcblx0XHRcdGR1cmF0aW9uOiAwLjUsXHJcblx0XHRcdGRlbGF5OiAyLFxyXG5cdFx0fSk7XHJcblx0XHRnc2FwLnRvKHN1YmxvZ29bMV0sIHtcclxuXHRcdFx0dHJhbnNmb3JtOiBcInRyYW5zbGF0ZSgtNTAlLC01MCUpIHJvdGF0ZSgwKVwiLFxyXG5cdFx0XHRkdXJhdGlvbjogMC41LFxyXG5cdFx0XHRkZWxheTogNCxcclxuXHRcdH0pO1xyXG5cdFx0Z3NhcC50byhzdWJsb2dvWzJdLCB7XHJcblx0XHRcdHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoLTUwJSwtNTAlKSByb3RhdGUoNDVkZWcpXCIsXHJcblx0XHRcdGR1cmF0aW9uOiAwLjUsXHJcblx0XHRcdGRlbGF5OiA2LFxyXG5cdFx0fSk7XHJcblx0XHRzdWJsb2dvLmZvckVhY2goKGxvZ28pID0+IHtcclxuXHRcdFx0Z3NhcC50byhsb2dvLCB7XHJcblx0XHRcdFx0dHJhbnNmb3JtOiBcInRyYW5zbGF0ZSgtNTAlLC01MCUpIHJvdGF0ZSgwKVwiLFxyXG5cdFx0XHRcdGR1cmF0aW9uOiAwLjUsXHJcblx0XHRcdFx0ZGVsYXk6IDgsXHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0c2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG5cdFx0XHRsb2dvTWFpbi5mb3JFYWNoKChsb2dvKSA9PiB7XHJcblx0XHRcdFx0Z3NhcC50byhsb2dvLCB7XHJcblx0XHRcdFx0XHR0cmFuc2Zvcm06IFwidHJhbnNsYXRlKC01MCUsLTUwJSkgcm90YXRlKC00NWRlZylcIixcclxuXHRcdFx0XHRcdGR1cmF0aW9uOiAwLjUsXHJcblx0XHRcdFx0XHRkZWxheTogMixcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRnc2FwLnRvKGxvZ28sIHtcclxuXHRcdFx0XHRcdHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoLTUwJSwtNTAlKSByb3RhdGUoMClcIixcclxuXHRcdFx0XHRcdGR1cmF0aW9uOiAwLjUsXHJcblx0XHRcdFx0XHRkZWxheTogNCxcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRnc2FwLnRvKGxvZ28sIHtcclxuXHRcdFx0XHRcdHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoLTUwJSwtNTAlKSByb3RhdGUoNDVkZWcpXCIsXHJcblx0XHRcdFx0XHRkdXJhdGlvbjogMC41LFxyXG5cdFx0XHRcdFx0ZGVsYXk6IDYsXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0Z3NhcC50byhsb2dvLCB7XHJcblx0XHRcdFx0XHR0cmFuc2Zvcm06IFwidHJhbnNsYXRlKC01MCUsLTUwJSkgcm90YXRlKDApXCIsXHJcblx0XHRcdFx0XHRkdXJhdGlvbjogMC41LFxyXG5cdFx0XHRcdFx0ZGVsYXk6IDguNSxcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdGdzYXAudG8oc3VibG9nb1swXSwge1xyXG5cdFx0XHRcdHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoLTUwJSwtNTAlKSByb3RhdGUoLTQ1ZGVnKVwiLFxyXG5cdFx0XHRcdGR1cmF0aW9uOiAwLjUsXHJcblx0XHRcdFx0ZGVsYXk6IDIsXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRnc2FwLnRvKHN1YmxvZ29bMV0sIHtcclxuXHRcdFx0XHR0cmFuc2Zvcm06IFwidHJhbnNsYXRlKC01MCUsLTUwJSkgcm90YXRlKDApXCIsXHJcblx0XHRcdFx0ZHVyYXRpb246IDAuNSxcclxuXHRcdFx0XHRkZWxheTogNCxcclxuXHRcdFx0fSk7XHJcblx0XHRcdGdzYXAudG8oc3VibG9nb1syXSwge1xyXG5cdFx0XHRcdHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoLTUwJSwtNTAlKSByb3RhdGUoNDVkZWcpXCIsXHJcblx0XHRcdFx0ZHVyYXRpb246IDAuNSxcclxuXHRcdFx0XHRkZWxheTogNixcclxuXHRcdFx0fSk7XHJcblx0XHRcdHN1YmxvZ28uZm9yRWFjaCgobG9nbykgPT4ge1xyXG5cdFx0XHRcdGdzYXAudG8obG9nbywge1xyXG5cdFx0XHRcdFx0dHJhbnNmb3JtOiBcInRyYW5zbGF0ZSgtNTAlLC01MCUpIHJvdGF0ZSgwKVwiLFxyXG5cdFx0XHRcdFx0ZHVyYXRpb246IDAuNSxcclxuXHRcdFx0XHRcdGRlbGF5OiA4LjUsXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSwgOTAwMCk7XHJcblx0fVxyXG5cclxuXHRjb25BbmltYXRpb24oaXRlbSwgaXRlbU91dCkge1xyXG5cdFx0aXRlbS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG5cdFx0aXRlbU91dC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblx0XHRpdGVtT3V0LnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcclxuXHRcdGxldCB0bCA9IGdzYXAudGltZWxpbmUoKTtcclxuXHRcdHRsLnRvKGl0ZW0sIHsgb3BhY2l0eTogMSwgZHVyYXRpb246IDIgfSk7XHJcblx0fVxyXG5cclxuXHRudW1iZXJBbmltKHRhcmdldCkge1xyXG5cdFx0Z3NhcC5mcm9tVG8oXHJcblx0XHRcdHRhcmdldCxcclxuXHRcdFx0eyBvcGFjaXR5OiAwLCB4OiBcIjIwcmVtXCIgfSxcclxuXHRcdFx0eyBvcGFjaXR5OiAxLCB4OiBcIjBcIiwgZHVyYXRpb246IDIgfVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdGhpZGVOdW0odGFyZ2V0KSB7XHJcblx0XHRnc2FwLmZyb21UbyhcclxuXHRcdFx0dGFyZ2V0LFxyXG5cdFx0XHR7IG9wYWNpdHk6IDEsIHg6IFwiMFwiIH0sXHJcblx0XHRcdHsgb3BhY2l0eTogMCwgeDogXCItOHJlbVwiLCBkdXJhdGlvbjogMiB9XHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblx0aW5pdFBvc3QoKSB7XHJcblx0XHR0aGlzLmNvbXBvc2VyID0gbmV3IEVmZmVjdENvbXBvc2VyKHJlbmRlcmVyKTtcclxuXHJcblx0XHRjb25zdCByZW5kZXJQYXNzID0gbmV3IFJlbmRlclBhc3Moc2NlbmUsIGNhbWVyYSk7XHJcblx0XHR0aGlzLmNvbXBvc2VyLmFkZFBhc3MocmVuZGVyUGFzcyk7XHJcblxyXG5cdFx0dGhpcy5lZmZlY3RQYXNzID0gbmV3IFNoYWRlclBhc3MoQ3VydGFpblNoYWRlcik7XHJcblx0XHR0aGlzLmNvbXBvc2VyLmFkZFBhc3ModGhpcy5lZmZlY3RQYXNzKTtcclxuXHRcdHRoaXMuZWZmZWN0UGFzczEgPSBuZXcgU2hhZGVyUGFzcyhSR0JBU2hhZGVyKTtcclxuXHRcdHRoaXMuY29tcG9zZXIuYWRkUGFzcyh0aGlzLmVmZmVjdFBhc3MxKTtcclxuXHR9XHJcblxyXG5cdG9uTW91c2VNb3ZlKGV2ZW50KSB7XHJcblx0XHRtb3VzZS54ID0gZXZlbnQuY2xpZW50WCAtIHdpbmRvd0hhbGYueDtcclxuXHRcdG1vdXNlLnkgPSBldmVudC5jbGllbnRZIC0gd2luZG93SGFsZi54O1xyXG5cdH1cclxuXHJcblx0cmVuZGVyKCkge1xyXG5cdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucmVuZGVyLmJpbmQodGhpcykpO1xyXG5cclxuXHRcdHRoaXMudGltZSArPSAwLjA1O1xyXG5cdFx0dGhpcy5vc2NpbGF0b3IgPSBNYXRoLnNpbih0aGlzLnRpbWUgKiAwLjEpICogMC41ICsgMC41O1xyXG5cclxuXHRcdHJlbmRlcmVyLnNldEFuaW1hdGlvbkxvb3AoKCkgPT4ge1xyXG5cdFx0XHRjdWJlLmdyb3Vwcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblx0XHRcdFx0dGFyZ2V0LnggPSAoMSAtIG1vdXNlLngpICogMC4wMDAxMztcclxuXHRcdFx0XHR0YXJnZXQueSA9ICgtNTAwIC0gbW91c2UueSkgKiAwLjAwMDEzO1xyXG5cdFx0XHRcdGl0ZW0ucm90YXRpb24ueCArPSAwLjA1ICogKHRhcmdldC55IC0gaXRlbS5yb3RhdGlvbi54KTtcclxuXHRcdFx0XHRpdGVtLnJvdGF0aW9uLnkgKz0gMC4wNSAqICh0YXJnZXQueCAtIGl0ZW0ucm90YXRpb24ueSk7XHJcblxyXG5cdFx0XHRcdC8vIGl0ZW0uY2hpbGRyZW4uZm9yRWFjaCgobSwgaSkgPT4ge1xyXG5cdFx0XHRcdC8vIFx0bS5wb3NpdGlvbi56ID0gKGkgKyAxKSAqIDEwMCAtIHRoaXMub3NjaWxhdG9yICogMjAwO1xyXG5cdFx0XHRcdC8vIH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHRoaXMuY29tcG9zZXIucmVuZGVyKCk7XHJcblx0XHR9KTtcclxuXHRcdC8vIHJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTtcclxuXHR9XHJcblxyXG5cdHN0YXJ0KCkge1xyXG5cdFx0bG9vcC5zdGFydCgpO1xyXG5cdH1cclxuXHJcblx0c3RvcCgpIHtcclxuXHRcdGxvb3Auc3RvcCgpO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IHsgV29ybGQgfTtcclxuIl19
